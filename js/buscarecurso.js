var textoRecursosI = [];

//recursos de portugues
    var portI1 = {texto: "D1 - Localizar informações explícitas em um texto", descritor:"DPI01"};
textoRecursosI.push(portI1);
    var portI2 = {texto: "D2 - Estabelecer relações entre partes de um texto, identificando repetições ou substituições que contribuem para a continuidade de um texto", descritor:"DPI02"};
textoRecursosI.push(portI2);
    var portI3 = {texto: "D3 - Inferir o sentido de uma palavra ou expressão", descritor:"DPI03"};
textoRecursosI.push(portI3);
    var portI4 = {texto: "D4 - Inferir uma informação implícita em um texto", descritor:"DPI04"};
textoRecursosI.push(portI4);
    var portI5 = {texto: "D5 - Interpretar texto com auxílio de material gráfico diverso (propagandas, quadrinhos, foto etc.)", descritor:"DPI05"};
textoRecursosI.push(portI5);
    var portI6 = {texto: "D6 - Identificar o tema de um texto", descritor:"DPI06"};
textoRecursosI.push(portI6);
    var portI7 = {texto: "D7 - Identificar o conflito gerador do enredo e os elementos que constroem a narrativa", descritor:"DPI07"};
textoRecursosI.push(portI7);
    var portI8 = {texto: "D8 - Estabelecer relação causa/conseqüência entre partes e elementos do texto", descritor:"DPI08"};
textoRecursosI.push(portI8);
    var portI9 = {texto: "D9 - Identificar a finalidade de textos de diferentes gêneros", descritor:"DPI09"};
textoRecursosI.push(portI9);
    var portI10 = {texto: "D10 - Identificar as marcas lingüísticas que evidenciam o locutor e o interlocutor de um texto", descritor:"DPI10"};
textoRecursosI.push(portI10);
    var portI11 = {texto: "D11 - Distinguir um fato da opinião relativa a esse fato", descritor:"DPI11"};
textoRecursosI.push(portI11);
    var portI12 = {texto: "D12 - Estabelecer relações lógico-discursivas presentes no texto, marcadas por conjunções, advérbios etc", descritor:"DPI12"};
textoRecursosI.push(portI12);
    var portI13 = {texto: "D13 - Identificar efeitos de ironia ou humor em textos variados", descritor:"DPI13"};
textoRecursosI.push(portI13);
    var portI14 = {texto: "D14 - Identificar o efeito de sentido decorrente do uso da pontuação e de outras notações", descritor:"DPI14"};
textoRecursosI.push(portI14);
    var portI15 = {texto: "D15 - Reconhecer diferentes formas de tratar uma informação na comparação de textos que tratam do mesmo tema, em função das condições em que ele foi produzido e daquelas em que será recebido", descritor:"DPI15"};
textoRecursosI.push(portI15);

var textoRecursosII = [];
    var portII1 = {texto: "D1 - Localizar informações explícitas em um texto", descritor:"DPII01"};
textoRecursosII.push(portII1);
    var portII2 = {texto: "D2 - Estabelecer relações entre partes de um texto, identificando repetições ou substituições que contribuem para a continuidade de um texto", descritor:"DPII02"};
textoRecursosII.push(portII2);
    var portII3 = {texto: "D3 - Inferir o sentido de uma palavra ou expressão", descritor:"DPII03"};
textoRecursosII.push(portII3);
    var portII4 = {texto: "D4 - Inferir uma informação implícita em um texto", descritor:"DPII04"};
textoRecursosII.push(portII4);
    var portII5 = {texto: "D5 - Interpretar texto com auxílio de material gráfico diverso (propagandas, quadrinhos, foto etc.)", descritor:"DPII05"};
textoRecursosII.push(portII5);
    var portII6 = {texto: "D6 - Identificar o tema de um texto", descritor:"DPII06"};
textoRecursosII.push(portII6);
    var portII7 = {texto: "D7 - Identificar a tese de um texto", descritor:"DPII07"};
textoRecursosII.push(portII7);
    var portII8 = {texto: "D8 - Estabelecer a relação entre a tese e os argumentos oferecidos para sustentá-lá", descritor:"DPII08"};
textoRecursosII.push(portII8);
    var portII9 = {texto: "D9 - Diferenciar as partes principais das secundárias em um texto", descritor:"DPII09"};
textoRecursosII.push(portII9);
    var portII10 = {texto: "D10 - Identificar o conflito gerador do enredo e os elementos que constroem a narrativa", descritor:"DPII10"};
textoRecursosII.push(portII10);
    var portII11 = {texto: "D11 - Estabelecer relação causa/conseqüência entre partes e elementos do texto", descritor:"DPII11"};
textoRecursosII.push(portII11);
    var portII12 = {texto: "D12 - Identificar a finalidade de textos de diferentes gêneros", descritor:"DPII12"};
textoRecursosII.push(portII12);
    var portII13 = {texto: "D13 - Identificar as marcas lingüísticas que evidenciam o locutor e o interlocutor de um texto", descritor:"DPII13"};
textoRecursosII.push(portII13);
    var portII14 = {texto: "D14 - Distinguir um fato da opinião relativa a esse fato", descritor:"DPII14"};
textoRecursosII.push(portII14);
    var portII15 = {texto: "D15 - Estabelecer relações lógico-discursivas presentes no texto, marcadas por conjunções, advérbios etc", descritor:"DPII15"};
textoRecursosII.push(portII15);
    var portII16 = {texto: "D16 - Identificar efeitos de ironia ou humor em textos variados", descritor:"DPII16"};
textoRecursosII.push(portII16);
    var portII17 = {texto: "D17 - Identificar o efeito de sentido decorrente do uso da pontuação e de outras notações", descritor:"DPII17"};
textoRecursosII.push(portII17);
    var portII18 = {texto: "D18 - Reconhecer o efeito de sentido decorrente da escolha de uma determinada palavra ou expressão.", descritor:"DPII18"};
textoRecursosII.push(portII18);
    var portII19 = {texto: "D19 - Reconhecer o efeito de sentido decorrente da exploração de recursos ortográficos e/ou morfossintáticos.", descritor:"DPII19"};
textoRecursosII.push(portII19);
    var portII20 = {texto: "D20 - Reconhecer diferentes formas de tratar uma informação na comparação de textos que tratam do mesmo tema, em função das condições em que ele foi produzido e daquelas em que será recebido", descritor:"DPII20"};
textoRecursosII.push(portII20);
    var portII21 = {texto: "D21 - Reconhecer posições distintas entre duas ou mais opiniões relativas ao mesmo fato ou ao mesmo tema.", descritor:"DPII21"};
textoRecursosII.push(portII21);

//recursos de matematica
    var matI1 = {texto: "D1 - Identificar a localização/movimentação de objeto em mapas, croquis e outras representações gráficas", descritor:"DMI01"};
textoRecursosI.push(matI1);
    var matI2 = {texto: "D2 - Identificar propriedades comuns e diferenças entre poliedros e corpos redondos, relacionando figuras tridimensionais com suas planificações", descritor:"DMI02"};
textoRecursosI.push(matI2);
    var matI3 = {texto: "D3 - Identificar propriedades comuns e diferenças entre figuras bidimensionais pelo número de lados e pelos tipos de ângulos", descritor:"DMI03"};
textoRecursosI.push(matI3);
    var matI4 = {texto: "D4 - Identificar quadriláteros observando as relações entre seus lados (paralelos, congruentes, perpendiculares)", descritor:"DMI04"};
textoRecursosI.push(matI4);
    var matI5 = {texto: "D5 - Reconhecer a consevação ou modificação de medidas dos lados, do perímetro, da área em ampliação e/ou redução de figuras poligonais usando malhas quadriculadas", descritor:"DMI05"};
textoRecursosI.push(matI5);
    var matI6 = {texto: "D6 - Estimar a medida de grandes utilizando unidades de medidas convencionais ou não", descritor:"DMI06"};
textoRecursosI.push(matI6);
    var matI7 = {texto: "D7 - Estabelecer relações entre unidades de medida de tempo", descritor:"DMI07"};
textoRecursosI.push(matI7);
    var matI8 = {texto: "D8 - Estabelecer relações entre horário de início e término e/ou intervalo da duração de um evento ou acontecimento", descritor:"DMI08"};
textoRecursosI.push(matI8);
    var matI9 = {texto: "D9 - Num problema, estabelecer trocas entre cédulas e moedas do sistema monetário brasileiro, em função de seus valores", descritor:"DMI09"};
textoRecursosI.push(matI9);
    var matI10 = {texto: "D10 - Resolver problema envolvendo o cálculo do perímetro de figuras planas, desenhadas em malhas quadriculadas", descritor:"DMI10"};
textoRecursosI.push(matI10);
    var matI11 = {texto: "D11 - Resolver problema envolvendo cálculo ou estimativa de áreas de figuras planas, desenhadas em malhas quadriculadas", descritor:"DMI11"};
textoRecursosI.push(matI11);
    var matI12 = {texto: "D12 - Reconhecer e utilizar características do sistema de numeração decimal, tais como agrupamentos e trocas na base 10 e princípio do valor posicional", descritor:"DMI12"};
textoRecursosI.push(matI12);
    var matI13 = {texto: "D13 - Reconhecer e utilizar características do sist", descritor:"DMI13"};
textoRecursosI.push(matI13);
    var matI14 = {texto: "D14 - Identificar a localização de números naturais na reta numérica", descritor:"DMI14"};
textoRecursosI.push(matI14);
    var matI15 = {texto: "D15 - Identificar a decomposição de números naturais nas suas diversas ordens", descritor:"DMI15"};
textoRecursosI.push(matI15);
    var matI16 = {texto: "D16 - Reconhecer a composição e a decomposição de números naturais em sua forma polinomial", descritor:"DMI16"};
textoRecursosI.push(matI16);
    var matI17 = {texto: "D17 - Calcular o resultado de uma adição ou subtração de números naturais", descritor:"DMI17"};
textoRecursosI.push(matI17);
    var matI18 = {texto: "D18 - Calcular o resultado de uma multiplicação ou divisão de números naturais", descritor:"DMI18"};
textoRecursosI.push(matI18);
    var matI19 = {texto: "D19 - Resolver problema com números naturais, envolvendo diferentes significados da adição ou subtração: juntar, alteração de um estado inicial (positiva ou negativa), comparação e mais de uma transformação (positiva ou negativa)", descritor:"DMI19"};
textoRecursosI.push(matI19);
    var matI20 = {texto: "D20 - Resolver problema com números naturais, envolvendo diferentes significados da multiplicação ou divisão: multiplicação comparativa, idéia de proporcionalidade, configuração retangular e combinatória", descritor:"DMI20"};
textoRecursosI.push(matI20);
    var matI21 = {texto: "D21 - Identificar diferentes representações de um mesmo número racional", descritor:"DMI21"};
textoRecursosI.push(matI21);
    var matI22 = {texto: "D22 - Identificar a localização de números racionais representados na forma decimal numérica", descritor:"DMI22"};
textoRecursosI.push(matI22);
    var matI23 = {texto: "D23 - Resolver problema utilizando a escrita decimal de cédulas e moedas do Sistema Monetário Brasileiro", descritor:"DMI23"};
textoRecursosI.push(matI23);
    var matI24 = {texto: "D24 - Identificar fração como representação que pode estar associada a diferentes significados.", descritor:"DMI24"};
textoRecursosI.push(matI24);
    var matI25 = {texto: "D25 - Resolver problema com números racionais expressos na forma decimal, envolvendo diferentes significados de adição ou subtração", descritor:"DMI25"};
textoRecursosI.push(matI25);
    var matI26 = {texto: "D26 - Resolver problema envolvendo noções de porcentagem (25%, 50%, 100%)", descritor:"DMI26"};
textoRecursosI.push(matI26);
    var matI27 = {texto: "D27 - Ler informações e dados apresentados em tabelas", descritor:"DMI27"};
textoRecursosI.push(matI27);
    var matI28 = {texto: "D28 - Ler informações e dados apresentados em gráficos (particularmente em gráficos de colunas)", descritor:"DMI28"};
textoRecursosI.push(matI28);


    var matII1 = {texto: "D1 - Identificar a localização/movimentação de objeto em mapas, croquis e outras representações gráficas", descritor:"DMII01"};
textoRecursosII.push(matII1);
    var matII2 = {texto: "D2 - Identificar propriedades comuns e diferenças entre figuras bidimensionais e tridimensionais, relacionando-as com as suas planificações", descritor:"DMII02"};
textoRecursosII.push(matII2);
    var matII3 = {texto: "D3 - Identificar propriedades de triângulos pela comparação de medidas de lados e ângulos", descritor:"DMII03"};
textoRecursosII.push(matII3);
    var matII4 = {texto: "D4 - Identificar relação entre quadriláteros por meio de suas propriedades.", descritor:"DMII04"};
textoRecursosII.push(matII4);
    var matII5 = {texto: "D5 - Reconhecer a conservação ou modificação de medidas dos lados, do perímetro, da área em ampliação e/ou redução de figuras poligonais usando malhas quadriculadas", descritor:"DMII05"};
textoRecursosII.push(matII5);
    var matII6 = {texto: "D6 - Reconhecer ângulos como mudança de direção ou giros, identificando ângulos retos e não-retos", descritor:"DMII06"};
textoRecursosII.push(matII6);
    var matII7 = {texto: "D7 - Reconhecer que as imagens de uma figura construída por uma transformação homotética são semelhantes, identificando propriedades e/ou medidas que se modificam ou não se alteram", descritor:"DMII07"};
textoRecursosII.push(matII7);
    var matII8 = {texto: "D8 - Resolver problema utilizando propriedades dos polígonos (soma de seus ângulos internos, número de diagonais, cálculo da medida de cada ângulo interno nos polígonos regulares)", descritor:"DMII08"};
textoRecursosII.push(matII8);
    var matII9 = {texto: "D9 - Interpretar informações apresentadas por meio de coordenadas cartesianas", descritor:"DMII09"};
textoRecursosII.push(matII9);
    var matII10 = {texto: "D10 - Utilizar relações métricas do triângulo retângulo para resolver problemas significativos", descritor:"DMII10"};
textoRecursosII.push(matII10);
    var matII11 = {texto: "D11 - Reconhecer círculo/circunferência, seus elementos e algumas de suas relações", descritor:"DMII11"};
textoRecursosII.push(matII11);
    var matII12 = {texto: "D12 - Resolver problema envolvendo o cálculo de perímetro de figuras planas", descritor:"DMII12"};
textoRecursosII.push(matII12);
    var matII13 = {texto: "D13 - Resolver problema envolvendo o cálculo de área de figuras planas", descritor:"DMII13"};
textoRecursosII.push(matII13);
    var matII14 = {texto: "D14 - Resolver problema envolvendo noções de volume", descritor:"DMII14"};
textoRecursosII.push(matII14);
    var matII15 = {texto: "D15 - Resolver problema utilizando relações entre diferentes unidades de medida", descritor:"DMII15"};
textoRecursosII.push(matII15);
    var matII16 = {texto: "D16 - Identificar a localização de números inteiros na reta numérica", descritor:"DMII16"};
textoRecursosII.push(matII16);
    var matII17 = {texto: "D17 - Identificar a localização de números racionais na reta numérica", descritor:"DMII17"};
textoRecursosII.push(matII17);
    var matII18 = {texto: "D18 - Efetuar cálculos com números inteiros, envolvendo as operações (adição, subtração, multiplicação, divisão, potenciação)", descritor:"DMII18"};
textoRecursosII.push(matII18);
    var matII19 = {texto: "D19 - Resolver problema com números naturais, envolvendo diferentes significados das operações (adição, subtração, multiplicação, divisão, potenciação)", descritor:"DMII19"};
textoRecursosII.push(matII19);
    var matII20 = {texto: "D20 - Resolver problema com números inteiros envolvendo as operações (adição, subtração, multiplicação, divisão, potenciação)", descritor:"DMII20"};
textoRecursosII.push(matII20);
    var matII21 = {texto: "D21 - Reconhecer as diferentes representações de um número racional", descritor:"DMII21"};
textoRecursosII.push(matII21);
    var matII22 = {texto: "D22 - Identificar fração como representação que pode estar associada a diferentes significados", descritor:"DMII22"};
textoRecursosII.push(matII22);
    var matII23 = {texto: "D23 - Identificar frações equivalentes", descritor:"DMII23"};
textoRecursosII.push(matII23);
    var matII24 = {texto: "D24 - Reconhecer as representações decimais dos números racionais como uma extensão do sistema de numeração decimal, identificando a existência de “ordens” como décimos, centésimos e milésimos", descritor:"DMII24"};
textoRecursosII.push(matII24);
    var matII25 = {texto: "D25 - Efetuar cálculos que envolvam operações com números racionais (adição, subtração, multiplicação, divisão, potenciação)", descritor:"DMII25"};
textoRecursosII.push(matII25);
    var matII26 = {texto: "D26 - Resolver problema com números racionais envolvendo as operações (adição, subtração, multiplicação, divisão, potenciação)", descritor:"DMII26"};
textoRecursosII.push(matII26);
    var matII27 = {texto: "D27 - Efetuar cálculos simples com valores aproximados de radicais", descritor:"DMII27"};
textoRecursosII.push(matII27);
    var matII28 = {texto: "D28 - Resolver problema que envolva porcentagem", descritor:"DMII28"};
textoRecursosII.push(matII28);
    var matII29 = {texto: "D29 - Resolver problema que envolva variação proporcional, direta ou inversa, entre grandezas", descritor:"DMII29"};
textoRecursosII.push(matII29);
    var matII30 = {texto: "D30 - Calcular o valor numérico de uma expressão algébrica", descritor:"DMII30"};
textoRecursosII.push(matII30);
    var matII31 = {texto: "D31 - Resolver problema que envolva equação do 2.o grau", descritor:"DMII31"};
textoRecursosII.push(matII31);
    var matII32 = {texto: "D32 - Identificar a expressão algébrica que expressa uma regularidade observada em seqüências de números ou figuras (padrões)", descritor:"DMII32"};
textoRecursosII.push(matII32);
    var matII33 = {texto: "D33 - Identificar uma equação ou inequação do 1.o grau que expressa um problema", descritor:"DMII33"};
textoRecursosII.push(matII33);
    var matII34 = {texto: "D34 - Identificar um sistema de equações do 1.o grau que expressa um problema", descritor:"DMII34"};
textoRecursosII.push(matII34);
    var matII35 = {texto: "D35 - Identificar a relação entre as representações algébrica e geométrica de um sistema de equações do 1.o grau", descritor:"DMII35"};
textoRecursosII.push(matII35);
    var matII36 = {texto: "D36 - Resolver problema envolvendo informações apresentadas em tabelas e/ou gráficos", descritor:"DMII36"};
textoRecursosII.push(matII36);
    var matII37 = {texto: "D37 - Associar informações apresentadas em listas e/ou tabelas simples aos gráfi-cos que as representam e vice-versa", descritor:"DMII37"};
textoRecursosII.push(matII37);

//alert(textoRecursos.length);
var url_string = window.location.href
var url = new URL(url_string);
var identidade = url.searchParams.get("n");

if(String(identidade)==""){
	identidade="null";
}

$(document).ready(function() {
    $.ajax({
        type: "GET",
        url: "data/recursos_pc.tsv",
        dataType: "text",
        success: function(data) {processData(data);}
     });
});

function processData(textoParam){
	var linhas = textoParam.split('\n');
	var recursos = [];
	for (var i=0; i < linhas.length; i++){
	    var aux = linhas[i].split('\t');
	    aux = {identidade:aux[0], nome:aux[1], miniatura:aux[2], resumo:aux[3], disciplina:aux[4], ano:aux[5], descritores:aux[6], linkdown:aux[7], visualizar:aux[8], tema:aux[9], origem:aux[10], autores:aux[11], idioma:aux[12], datacriacao:aux[13]};
	    if(String(identidade)!="null" && String(aux.identidade)!=String(identidade)){
	    	continue;
	    }
	    recursos.push(aux);
		//alert(recursos.length);
		document.getElementById("tituloRecurso").innerHTML = recursos[0].nome;
		document.getElementById("imagemRecurso").src = recursos[0].miniatura;
		document.getElementById("textoRecurso").innerHTML = recursos[0].resumo;
		var thread_descritor = recursos[0].descritores.split(';');
		//alert(thread_descritor.length);

		var tituloDescritoresI = '';
		var tituloDescritoresII = '';
		var descritoresI = [];
		var descritoresII = [];
		for (var j = 0; j < thread_descritor.length; j++) {
			for (var k = 0; k < textoRecursosI.length; k++) {
				//alert(textoRecursos[k]);
				if(String(textoRecursosI[k].descritor) != "null" && String(textoRecursosI[k].descritor) != String(thread_descritor[j])){
					continue;
				}
				var auxiliar = textoRecursosI[k].texto;
			}
			if(String(auxiliar) != "undefined"){
				descritoresI.push('<br>'+ auxiliar);
			}

			for (var k = 0; k < textoRecursosII.length; k++) {
				//alert(textoRecursos[k]);
				if(String(textoRecursosII[k].descritor) != "null" && String(textoRecursosII[k].descritor) != String(thread_descritor[j])){
					//alert(textoRecursosPII[k].texto);
					continue;
				}
			var auxiliar2 = textoRecursosII[k].texto;
			};
			if(String(auxiliar2) != "undefined"){
				descritoresII.push('<br>'+ auxiliar2);
			}

			if(descritoresI.length > 0){
				tituloDescritoresI = 'Descritores do 4º a 5º ano';
			}
			if(descritoresII.length > 0){
				tituloDescritoresII = 'Descritores do 8º e 9º ano';
			}				
			//alert(thread_descritor[j]);
			//alert(descritoresPII.length);
		}
		document.getElementById("descritoresRecurso").innerHTML = '<em> Ano indicado: ' + recursos[0].ano + 'º ano</em>' + '<b>'+ tituloDescritoresI + '</b>' + descritoresI + '<b>'+ tituloDescritoresII + '</b>' + descritoresII;
		document.getElementById("metadadosRecurso").innerHTML = '<b> Tema: </b>' + recursos[0].tema + '<br><b> Origem: </b>' + recursos[0].origem + '<br><b> Autor (es): </b>' + recursos[0].autores + '<br> <b> Idioma: </b>' + recursos[0].idioma + '<br> <b> Data da criação:</b>' + recursos[0].datacriacao;
	}
}

