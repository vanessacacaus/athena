package caca {	import flash.display.MovieClip;		import caca.Letra;		public class Selecao extends MovieClip {		var letraInicial: Letra;		var letraFinal: Letra;				public function Selecao(mc_inicio:Letra) {			this.letraInicial = mc_inicio;		}				public function getInicio():Letra {			return letraInicial;		}				public function getFim():Letra {			return letraFinal;		}						public function setFim(mc_fim:Letra):void {			this.letraFinal = mc_fim;		}						public function desenhar() {			var angulo:Number = 0;			this.x = letraInicial.x+8;			this.y = letraInicial.y+10;			fim.x = letraFinal.x - letraInicial.x;			fim.y = letraFinal.y - letraInicial.y;			meio.rotation = 0.0;			meio.width = calcularDistancia(letraInicial, letraFinal);			angulo = calcularAngulo(letraInicial, letraFinal);			inicio.rotation  = angulo;			meio.rotation = angulo;			fim.rotation    = angulo + 180.0;					}						/*		 * Calcula a distância entre duas letras		*/		function calcularDistancia(letra1:Letra, letra2:Letra):Number {			return Math.sqrt ((letra2.x - letra1.x) * (letra2.x - letra1.x) + (letra2.y - letra1.y) * (letra2.y - letra1.y));					}						/*		 * Calcula o angulo entre duas letras		*/		function calcularAngulo(letra1:Letra, letra2:Letra):Number {			return Math.atan2 ((letra2.y - letra1.y), (letra2.x - letra1.x)) * 180.0 / Math.PI;		}				/*		 * Diz se a letra informada é uma letra válida para uma seleção		 */		function letraFinalValida(letra:Letra):Boolean {			if(letraInicial == null) return true;			if(letra.x == letraInicial.x) return true;			if(letra.y == letraInicial.y) return true;			if(anguloValido(letraInicial, letra)) return true;			return false;		}						/*		 * Diz se o angulo ideal formado pela letra inicial e final pretendida é válido 		 */		function anguloValido(letra1:Letra, letra2:Letra):Boolean {			var angulo:Number = Math.abs(Math.atan2 ((letra2._y_ - letra1._y_), (letra2._x_ - letra1._x_)) * 180.0 / Math.PI);			return (angulo == 45) || (angulo == 135);		}						function apagar():void {			this.letraInicial = null;			this.letraFinal = null;						this.parent.removeChild(this);		}			}}